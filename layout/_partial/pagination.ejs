<% if (page.total > 1) { %>
<nav class="flex items-center justify-center space-x-2 mt-8">
  <%# Previous Page - Coss UI outline button style %>
  <% if (page.prev) { %>
  <a href="<%= url_for(page.prev_link) %>" class="inline-flex items-center justify-center size-9 rounded-md border bg-background shadow-xs transition-all hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m15 18-6-6 6-6"></path>
    </svg>
  </a>
  <% } else { %>
  <span class="inline-flex items-center justify-center size-9 rounded-md border bg-background shadow-xs dark:bg-input/30 dark:border-input opacity-50 cursor-not-allowed">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m15 18-6-6 6-6"></path>
    </svg>
  </span>
  <% } %>

  <%# Page Numbers %>
  <%
  var current = page.current;
  var total = page.total;
  var delta = 2;
  var pages = [];

  for (var i = 1; i <= total; i++) {
    if (i === 1 || i === total || (i >= current - delta && i <= current + delta)) {
      pages.push(i);
    }
  }

  var pagesWithDots = [];
  var prev;
  for (var j = 0; j < pages.length; j++) {
    var p = pages[j];
    if (prev) {
      if (p - prev === 2) {
        pagesWithDots.push(prev + 1);
      } else if (p - prev !== 1) {
        pagesWithDots.push('...');
      }
    }
    pagesWithDots.push(p);
    prev = p;
  }
  %>

  <% for (var k = 0; k < pagesWithDots.length; k++) { %>
    <% var pageNum = pagesWithDots[k]; %>
    <% if (pageNum === '...') { %>
    <span class="flex size-9 items-center justify-center text-muted-foreground">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="1"></circle>
        <circle cx="19" cy="12" r="1"></circle>
        <circle cx="5" cy="12" r="1"></circle>
      </svg>
    </span>
    <% } else if (pageNum === current) { %>
    <%# Current page - Coss UI default button style %>
    <span class="inline-flex items-center justify-center size-9 rounded-md bg-primary text-primary-foreground text-sm font-medium">
      <%= pageNum %>
    </span>
    <% } else { %>
    <%# Other pages - Coss UI outline button style %>
    <a href="<%= url_for(page.base + (pageNum === 1 ? '' : pageNum + '/')) %>" class="inline-flex items-center justify-center size-9 rounded-md border bg-background shadow-xs text-sm font-medium transition-all hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer">
      <%= pageNum %>
    </a>
    <% } %>
  <% } %>

  <%# Next Page - Coss UI outline button style %>
  <% if (page.next) { %>
  <a href="<%= url_for(page.next_link) %>" class="inline-flex items-center justify-center size-9 rounded-md border bg-background shadow-xs transition-all hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m9 18 6-6-6-6"></path>
    </svg>
  </a>
  <% } else { %>
  <span class="inline-flex items-center justify-center size-9 rounded-md border bg-background shadow-xs dark:bg-input/30 dark:border-input opacity-50 cursor-not-allowed">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m9 18 6-6-6-6"></path>
    </svg>
  </span>
  <% } %>
</nav>
<% } %>
