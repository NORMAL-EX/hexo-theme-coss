<div class="py-8">
  <div class="mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8">
    <div class="relative flex flex-col gap-6 rounded-2xl border bg-card bg-clip-padding text-card-foreground shadow-xs before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-2xl)-1px)] before:shadow-[0_1px_--theme(--color-black/4%)] dark:bg-clip-border dark:before:shadow-[0_-1px_--theme(--color-white/8%)] overflow-hidden">
      <div class="p-6 lg:p-8">
        <%# Title - 靠左对齐 %>
        <h1 class="text-3xl font-bold mb-2 text-left"><%= page.title || '友情链接' %></h1>

        <% if (page.subtitle || theme.links && theme.links.subtitle) { %>
        <p class="text-muted-foreground mb-8"><%= page.subtitle || theme.links.subtitle %></p>
        <% } else { %>
        <p class="text-muted-foreground mb-8">感谢以下站点的友情支持</p>
        <% } %>

        <%# Friend Links Grid %>
        <% var links = theme.links && theme.links.list ? theme.links.list : (theme.friends || []); %>
        <% if (links.length > 0) { %>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
          <% for (var i = 0; i < links.length; i++) { %>
          <% var friend = links[i]; %>
          <a href="<%= friend.url %>" target="_blank" rel="noopener noreferrer" 
             class="relative flex items-center gap-4 p-4 rounded-xl border border-border bg-background bg-clip-padding shadow-xs transition-shadow transition-colors duration-200 cursor-pointer outline-none group before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-xl)-1px)] not-disabled:not-active:not-data-pressed:before:shadow-[0_1px_--theme(--color-black/4%)] hover:bg-accent/50 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background active:shadow-none data-[pressed]:shadow-none dark:bg-input/32 dark:bg-clip-border dark:not-disabled:before:shadow-[0_-1px_--theme(--color-white/4%)] dark:hover:bg-input/64
">
            <% if (friend.avatar) { %>
            <img src="<%= friend.avatar %>" alt="<%= friend.name %>" 
                 class="w-14 h-14 rounded-full object-cover flex-shrink-0 ring-border group-hover:ring-primary/50 transition-all" loading="lazy">
            <% } else { %>
            <div class="w-14 h-14 rounded-full flex-shrink-0 flex items-center justify-center text-xl font-bold bg-primary/10 text-primary ring-2 ring-border group-hover:ring-primary/50 transition-all">
              <%= friend.name.charAt(0).toUpperCase() %>
            </div>
            <% } %>
            <div class="flex-1 min-w-0">
              <div class="font-semibold text-foreground truncate group-hover:text-primary transition-colors"><%= friend.name %></div>
              <% if (friend.description) { %>
              <div class="text-sm text-muted-foreground truncate mt-0.5" title="<%= friend.description %>"><%= friend.description %></div>
              <% } %>
            </div>
          </a>
          <% } %>
        </div>
        <% } else { %>
        <div class="text-center py-12 text-muted-foreground">
          <p>暂无友情链接</p>
        </div>
        <% } %>

        <%# Custom Content from page.content %>
        <% if (page.content && page.content.trim()) { %>
        <div class="mt-8 pt-8 border-t">
          <div class="prose prose-neutral dark:prose-invert max-w-none prose-headings:scroll-mt-20 prose-headings:font-semibold prose-a:text-primary prose-a:no-underline hover:prose-a:underline prose-code:before:content-none prose-code:after:content-none prose-code:bg-muted prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-pre:bg-muted prose-pre:border prose-img:rounded-lg prose-img:shadow-md prose-blockquote:border-l-primary prose-blockquote:bg-muted/50 prose-blockquote:py-1">
            <%- page.content %>
          </div>
        </div>
        <% } %>
      </div>
    </div>
  </div>
</div>
